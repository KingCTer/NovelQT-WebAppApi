@model DiagnosticsViewModel
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="post d-flex flex-column-fluid" id="kt_post">
	<!--begin::Container-->
	<div id="kt_content_container" class="container">
		<!--begin::About card-->
		<div class="card">
			<!--begin::Body-->
			<div class="card-body p-lg-17">
                <div class="diagnostics-page">
                    <div class="lead">
                        <h1>Authentication Cookie</h1>
                    </div>

                    <div class="row">
                        <div class="col">
                            <div class="card">
                                <div class="card-header">
                                    <h2>Claims</h2>
                                </div>
                                <div class="card-body">
                                    <dl>
                                        @foreach (var claim in Model.AuthenticateResult.Principal.Claims)
                                        {
                                            <dt>@claim.Type</dt>
                                            <dd>@claim.Value</dd>
                                        }
                                    </dl>
                                </div>
                            </div>
                        </div>
        
                        <div class="col">
                            <div class="card">
                                <div class="card-header">
                                    <h2>Properties</h2>
                                </div>
                                <div class="card-body">
                                    <dl>
                                        @foreach (var prop in Model.AuthenticateResult.Properties.Items)
                                        {
                                            <dt>@prop.Key</dt>
                                            <dd>@prop.Value</dd>
                                        }
                                        @if (Model.Clients.Any())
                                        {
                                            <dt>Clients</dt>
                                            <dd>
                                            @{
                                                var clients = Model.Clients.ToArray();
                                                for(var i = 0; i < clients.Length; i++)
                                                {
                                                    <text>@clients[i]</text>
                                                    if (i < clients.Length - 1)
                                                    {
                                                        <text>, </text>
                                                    }
                                                }
                                            }
                                            </dd>
                                        }
                                    </dl>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
			</div>
			<!--end::Body-->
		</div>
		<!--end::About card-->
	</div>
	<!--end::Container-->
</div>

